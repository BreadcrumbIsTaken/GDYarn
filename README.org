# Created 2021-09-29 Wed 20:29
#+TITLE: GDYARN
#+AUTHOR: Jonathan Camarena (kyperbelt)

* Contents
- [[#Introduction][Introduction]]
- [[#Features][Features]]
- [[#Installation][Installation]]
- [[#Quickstart][Quickstart]]
- [[#Todo][Todo]]

* Introduction
:PROPERTIES:
:CUSTOM_ID: Introduction
:END:
GD Yarn is an godot plugin that allows you to create rich and interative dialogues using a simple markup language similar to twine. It is easy to get started writing simple scripts, but powerful enough to your games dialogue to the next level with branching narratives that can change based on the players actions.

GD yarn is an implementation of [[https://yarnspinner.dev][YarnSpinner]] completely written in gdscript. The project aims to be as feature complete as possible compared to the c# version but may forgoe certain things in lieu of similar alternatives that make it blend better with the godot ecosystem.

* Features
:PROPERTIES:
:CUSTOM_ID: Features
:END:
- [X] Compile multiple Yarn files into a single Program
- [-] Persistant Variable Storage
- [-] Custom Commands
- [X] Libary Extensions
- [ ] Format functions
- [X] Option Links
- [X] Shortcut Options
- [-] Localization
- [X] IF/ELSE Statements

* Installation
:PROPERTIES:
:CUSTOM_ID: Installation
:END:
** Install from AssetLib
** Install from GitHub

* Quickstart
:PROPERTIES:
:CUSTOM_ID: Quickstart
:END:
** Setup
After you have installed the plugin (*by putting the gdyarn folder in the addons directory*), make sure that the addon is enabled in the `ProjectSettings -> Plugins` tab.

** Running your first yarn program
You must include a YarnRunner node to the project

* Todo
:PROPERTIES:
:CUSTOM_ID: Todo
:END:
** TODO Save programs and string data to disk [1/3]
- [X] Save programs to resource
- [-] Save strings to resrouce
  - [X] strings saved as plain text with each line containing a new string
  - [-] provide some way to interface with godot localization
- [-] make yarn_runner use resource to store programs paths
  - [-] once paths are added - compile and save programs to disk
  - [X] If compiled program exists then dont recompile unless a setting is checked

** TODO Integrate signals into display interface [0/5]
- [ ] Signals from display to inform runner when to continue
- [ ] Signals from runner to inform when next_line is ready
- [ ] signals from variable storage to inform runner when something is changed
- [ ] Signals should be accesible to other scripts

** TODO library imports as scripts [0/4]
- [ ] Save library as a resource
- [ ] Libray has array of script exports
- [ ] Must explicitly point to library resource in runner
- [ ] script exports get loaded at runtime

** TODO Create Video Tutorial [0/4]
- [ ] Explain initial project setup
- [ ] Explain Libraries
- [ ] Explain custom commands
- [ ] Explain gui customization

** TODO Optimization and Improvements [0/5]
- [ ] Add yarn script analyzer for generated IR
- [ ] change addon folder name : "kyper_gdyarn" ->  "gdyarn"
- [ ] Better error
- [ ] Implement [[https://yarnspinner.dev/docs/syntax/#format-functions][Format Functions]]
- [ ] Add appropriately sized icons to included nodes
